---
import BaseSection from "../atoms/BaseSection.astro";
import Heading from "../atoms/Heading.astro";
import CardBase from "../atoms/CardBase.astro";

interface ContactIcon {
  href: string;
  icon: string;
  title: string;
  bgColor: string;
}

interface ContactData {
  name: string;
  location: string;
  role: string;
  prompt: string;
  image: string;
  icons: ContactIcon[];
}

const { data } = Astro.props as { data: ContactData };
---

<BaseSection id="contacto">
  <Heading level="h2" className="mb-24">
    Contacto
  </Heading>

  <CardBase className="relative max-w-md mx-auto md:max-w-2xl pt-28 pb-10 px-6 hover:scale-[1.015]">
    <!-- Imagen de perfil -->
    <div class="absolute -top-24 left-1/2 transform -translate-x-1/2">
      <img
        loading="lazy"
        src={`${import.meta.env.BASE_URL}${data.image}`}
        alt="Contacto"
        class="shadow-xl rounded-full w-[180px] h-[180px] object-cover"
      />
    </div>

    <!-- Nombre y ubicación -->
    <div class="text-center mb-4 mt-2">
      <h3 class="text-2xl font-bold text-white leading-normal">{data.name}</h3>
      <p class="text-xs text-neutral-400 font-bold uppercase">
        {data.location} · {data.role}
      </p>
    </div>

    <!-- Texto -->
    <div class="text-center mt-6">
      <p class="text-neutral-300">{data.prompt}</p>
    </div>

    <!-- Iconos -->
    <div class="mt-6 flex justify-center gap-4 flex-wrap">
      {data.icons.map((icon) => (
        <a
          href={icon.href}
          target="_blank"
          title={icon.title}
          class={`${icon.bgColor} text-white rounded-full p-3 transition`}
        >
          <img
            loading="lazy"
            src={`${import.meta.env.BASE_URL}${icon.icon}`}
            alt={icon.title}
            class="w-6 h-6 invert"
          />
        </a>
      ))}
    </div>
  </CardBase>
</BaseSection>